#!/usr/bin/env node
// node-translate
// 2014-09-29 kazunori.kimura

process.bin = process.title = "trns";

var commander = require("commander"),
    here = require("here").here,
    translate = require("../lib");

var package = require("../package.json");

// command option
commander.version(package.version)
    .option("-q, --query [word or phrase]", "identify the string to translate.")
    .option("-s, --source [lang]", "Language code")
    .option("-t, --target [lang]", "Language code")
    .option("-c, --clientId [client_id]", "Microsoft Azure client_id")
    .option("-S, --clientSecret [client_secret]", "Microsoft Azure client_secret");

// get command line arguments
commander.parse(process.argv);

if(commander.query){
    // call Google Translate API
    translate.execute({
        text: commander.query,
        source: commander.source,
        target: commander.target,
        client_id: commander.clientId,
        client_secret: commander.clientSecret
    });
}else{
    commander.help();
}
